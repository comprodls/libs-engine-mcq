<!-- Engine Editor Template -->

<div class="mcqmr-body main-container" id="mcqmr-editor">
  <main class="main">
    <section id="question" class="section">
      <header>
        <span class="sectionlabel">1. Question</span>
      </header>
      <!-- Loop over all instructions text -->
      <div class="panel panel-default">
        <div class="panel-body">
          <p class="questionlabel">1.1. Use the text field below to enter instructions for this question.</p>
          <div class="row" rv-each-instructions="content.instructions">
            <div class="col-sm-12">
              <div class="input-group margin-bottom-sm">
                <span class="input-group-addon"><strong>Instruction</strong></span>
                <input class="form-control" type="text" rv-value="instructions.text" placeholder="Add Instructions">
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Loop over all question data text -->
      <div class="panel panel-default">
        <div class="panel-body">
          <p class="questionlabel">1.2. Use the text field below to enter Question text.</p>
          <div class="row" rv-each-interact="content.interactions">
            <div class="col-sm-12">
              <div rv-each-questiondata="content.canvas.data.questiondata">
                <div class="input-group margin-bottom-sm">
                  <span class="input-group-addon"><strong>Question Text</strong></span>
                  <input class="form-control" type="text" rv-value="questiondata.text" placeholder="Question Title">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-body">
          <p class="questionlabel">1.3. Add / Edit / Re-order / Remove Choices.</p>
          <div class="row" rv-each-interact="content.interactions">
            <!-- Loop over all questiondata inside interaction -->
            <div class="col-sm-12">
              <div class="row form questions-editor">
                <ul class="list-unstyled nested-list editor sortable">
                  <!-- Loop over all options inside interaction  (mcqmr Array)-->
                  <li class="col-xs-12 colborder mcqmr-item" rv-each-element="interact.MCQMR" rv-class-highlight="element.customAttribs.isCorrect"
                    rv-elementIndex="element.customAttribs.index" rv-interactIndex="%interact%">
                    <label class="checkbox">
                        <span class="invisible wrong pull-left"></span>
                        <input type="checkbox" name="optionsRadios" class="option mcqmr-option" rv-key="element.customAttribs.key" rv-value="element.customAttribs.value" rv-checked="element.customAttribs.isCorrect"></input>
                        <i></i>
                        <input class="option-value input-option" rv-show="element.customAttribs.isEdited" rv-value="element.customAttribs.value" rv-on-blur="removeEditing | args element"></input>
                        <div class="option-value" rv-hide="element.customAttribs.isEdited" rv-text="element.customAttribs.value" rv-on-click="editOptionText | args element"></div>
                        <span class="label label-success" rv-show="element.customAttribs.isCorrect">Correct Answer</span>
                        <span>
                          <a class="btn btn-danger editor-icon delete-icon mcqmr-edit fa fa-trash-o pull-right" data-toggle="tooltip" title="Click to remove this option" rv-on-click="removeItem | args element %interact%"></a>
                          <a class="btn btn-default editor-icon drag-icon mcqmr-edit fa fa-bars pull-right" data-toggle="tooltip" title="Click & drag move this option"></a>
                          <a class="btn btn-default editor-icon mcqmr-edit fa fa-commenting fa-lg comment pull-right" data-toggle="tooltip" title="Click to add inline feedback" rv-id="element.customAttribs.value | btnId" rv-on-click="addInlineFeedback | args element.customAttribs.value"></a>
                        </span>
                      </label>
                    <div class="modal fade" rv-id="element.customAttribs.value | modalId" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                      aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title" id="myModalLabel">Add Inline Feedback</h4>
                          </div>
                          <div class="modal-body">
                            <div class="input-group vspacer">
                              <span class="input-group-addon" id="basic-addon3">Feedback</span>
                              <input type="text" class="form-control" rv-id="element.customAttribs.key" rv-value="element.customAttribs.feedback" rv-placeholder="element.customAttribs.value | placeholderText"
                                rv-on-blur="setInlineFeedback | args element">
                            </div>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col xs-12 addbutton">
              <a class="add-item" rv-on-click="addItem | args content %interact%">
                      <button type="button" class="btn btn-default btn-sm">
                        <span class="glyphicon glyphicon-plus"></span>  Add a Choice
                      </button>
                  </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="scores" class="section">
      <header>
        <span class="sectionlabel">2. Score</span>
      </header>
      <p>Define Score for this question. The default min and max score are populated.</p>
      <div class="row">
        <div class="col-sm-6">
          <div class="input-group margin-bottom-sm">
            <span class="input-group-addon"><strong>Minimum</strong></span>
            <input class="form-control" type="text" rv-value="meta.score.min" placeholder="Define minimum Score">
          </div>
        </div>
        <div class="col-sm-6">
          <div class="input-group margin-bottom-sm">
            <span class="input-group-addon"><strong>Maximum</strong></span>
            <input class="form-control" type="text" rv-value="meta.score.max" placeholder="Define maximum score">
          </div>
        </div>
    </section>

    <section id="feedback" class="section">
      <header>
        <span class="sectionlabel">3. Feedback</span>
      </header>
      <p class='questionlabel'>Define Global feedback (<i>based on Correct / Incorrect response</i>)</p>
      <div class="panel panel-default">
        <div class="panel-body">
          <div class="row vspacer">
            <div class="col-sm-12">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-thumbs-up fa-lg correct" aria-hidden="true"></i></span>
                <input class="form-control" type="text" rv-value="feedback.global.correct" placeholder="Feedback for Correct answer">
              </div>
            </div>
          </div>
          <div class="row vspacer">
            <div class="col-sm-12">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-thumbs-down fa-lg incorrect" aria-hidden="true"></i></span>
                <input class="form-control" type="text" rv-value="feedback.global.incorrect" placeholder="Feedback for Incorrect answer">
              </div>
            </div>
          </div>
          <div class="row vspacer">
            <div class="col-sm-12">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-square-o fa-lg" aria-hidden="true"></i></span>
                <input class="form-control" type="text" rv-value="feedback.global.empty" placeholder="Feedback for no response">
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
    </section>

    <section id="media" class="section">
      <header>
        <span class="sectionlabel">Media</span>
      </header>
      <p>Select files from you computer</p>
      <div class="row">
        <div class="col-sm-8">
          <div class="media">
            <ul class="list-group">
              <li class="list-group-item">No Files available for this question. Uploaded files will be listed here.</li>
            </ul>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="dropzone" id="dropzone">
            <i class="fa fa-upload fa-5x" aria-hidden="true"></i><br>Drop Files here
            <input type="file" id="mediaupload" style="display:none" />
          </div>
        </div>
      </div>
    </section>
  </main>
</div>